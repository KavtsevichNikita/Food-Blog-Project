<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Customer Reviews</title>
    <link href="https://fonts.googleapis.com/css2?family=Merienda:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./screenStyle.css">
    <link rel="stylesheet" href="./public/css/printStyle.css" media="print">
</head>
<body>

    <!-- Using OpinionsHandler -->
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const formDataArray = JSON.parse(localStorage.getItem("formDataArray"));
            const opinionsHandler = new OpinionsHandler(formDataArray, "form-data");

            if (formDataArray) {
                opinionsHandler.renderOpinions();
            }

            const filterButtons = document.querySelectorAll(".button_filter_reviews");
            filterButtons.forEach(button => {
                button.addEventListener("click", () => {
                    const category = button.getAttribute("data-filter");
                    opinionsHandler.filterReviews(category);
                });
            });

            const searchBar = document.getElementById("searchBar");
            searchBar.addEventListener("input", () => {
                const searchTerm = searchBar.value.toLowerCase();
                opinionsHandler.searchReviews(searchTerm);
            });
        });
    </script>
    <header class="our_reviews">
        <div class="container">
            <div class="header_menu">
                <img src="./fig/img/main_page/coffee_beans.png" alt="Beans" class="beans_light">
                <ul class="menu">
                    <li class="menu_item"><a href="./index.html" class="menu_link">Food Blog</a></li>
                    <li class="menu_item"><a href="./article1.html" class="menu_link">For your pleasure</a></li>
                    <li class="menu_item"><a href="./article2.html" class="menu_link">Reviews</a></li>
                    <li class="menu_item"><a href="./article3.html" class="menu_link">Contact us</a></li>
                    <li class="menu_item"><a href="" class="menu_link">Log in</a></a></li>
                </ul>
            </div>
            <!-- Menu Burger -->
            <div class="hamburger-menu">
                <input id="menu__toggle" type="checkbox">
                <label class="menu__btn" for="menu__toggle">
                    <span></span>
                </label>
                <ul class="menu__box">
                    <li class="menu_item"><a href="./index.html" class="menu_link">Food Blog</a></li>
                    <li class="menu_item"><a href="./article1.html" class="menu_link">For your pleasure</a></li>
                    <li class="menu_item"><a href="./article2.html" class="menu_link">Reviews</a></li>
                    <li class="menu_item"><a href="./article3.html" class="menu_link">Contact us</a></li>
                </ul>
            </div>
        </div>
        <div class="subheader">
            <h1 class="customer_reviews_topic">Customer Reviews</h1>
        </div>
    </header>
    <div class="Searching">
        <div class="container">
            <div class="search_content">
                <p class="looking_for">Looking for</p>
                <div id="searchWrapper">
                    <form>
                        <p class="search_form"><input type="search" name="q" placeholder="start typing here..."
                                id="searchBar"></p>
                    </form>
                </div>
                <div class="text">Filter</div>
                <div class="filter_buttons">
                    <button class="button_filter_reviews" data-filter="All">All</button>
                    <button class="button_filter_reviews" data-filter="The best">The best</button>
                    <button class="button_filter_reviews" data-filter="Good">Good</button>
                    <button class="button_filter_reviews" data-filter="Medium">Medium</button>
                    <button class="button_filter_reviews" data-filter="Bad">Bad</button>
                </div>
            </div>
        </div>
    </div>
    <!-- Cards  -->
    <div class="container">
        <div class="cart_of_reviews_all" id="form-data">
        </div>
    </div>
    <!-- Footer -->
    <footer>
        <div class="container">
            <ul class="menu_footer">
                <li class="menu_item"><a href="./index.html" class="menu_link">Food Blog</a></li>
                <li class="menu_item"><a href="./article1.html" class="menu_link">For your pleasure</a></li>
                <li class="menu_item"><a href="./article2.html" class="menu_link">Reviews</a></li>
                <li class="menu_item"><a href="./article3.html" class="menu_link">Contact us</a></li>
            </ul>
            <div class="footer_beans">
                <span> <img src="./fig/img/main_page/beans_dark.png" alt="Beans Dark" class="beans_dark"></span>
            </div>
        </div>
    </footer>
    <script src="./OpinionsHandler.js"></script>
</body>
</html>